{% extends "shop/base.html" %}

{% block title %}–ù–æ–≤—ã–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è - –ú–∞–≥–∞–∑–∏–Ω —Ç–æ–≤–∞—Ä–æ–≤ NEBOLEY{% endblock %}
{% block header %}üÜï –ù–æ–≤—ã–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è{% endblock %}

{% block content %}
<div style="margin-bottom: 20px;">
    <p>–°–∞–º—ã–µ —Å–≤–µ–∂–∏–µ —Ç–æ–≤–∞—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–¥–∞–≤–Ω–æ –ø–æ—è–≤–∏–ª–∏—Å—å –≤ –Ω–∞—à–µ–º –º–∞–≥–∞–∑–∏–Ω–µ. –£—Å–ø–µ–π—Ç–µ –ø—Ä–∏–æ–±—Ä–µ—Å—Ç–∏ –ø–µ—Ä–≤—ã–º–∏!</p>
</div>

{% if products %}
    <div class="product-grid">
        {% for product in products %}
        <div class="product-card" style="position: relative;">
            <!-- –ë–µ–π–¥–∂ –Ω–æ–≤–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ -->
            <div style="position: absolute; top: 10px; left: 10px; background: #20bf6b; color: white; padding: 5px 10px; border-radius: 3px; font-size: 12px; font-weight: bold;">
                NEW
            </div>
            
            <!-- –î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è -->
            <div style="position: absolute; top: 10px; right: 10px; background: rgba(0,0,0,0.7); color: white; padding: 3px 8px; border-radius: 3px; font-size: 11px;">
                {{ product.created_at|date:"d.m.Y" }}
            </div>
            
            {% if product.image %}
                <img src="{{ product.image.url }}" alt="{{ product.name }}" class="product-image">
            {% else %}
                <div class="product-image" style="background: #eee; display: flex; align-items: center; justify-content: center;">
                    –ù–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                </div>
            {% endif %}
            
            <h3><a href="{% url 'shop:product_detail' product.slug %}">{{ product.name }}</a></h3>
            
            <p>–ö–∞—Ç–µ–≥–æ—Ä–∏—è: {{ product.category.name }}</p>
            
            <div class="price">
                {% if product.old_price %}
                    <span class="old-price">{{ product.get_old_price_display }}</span>
                {% endif %}
                <span>{{ product.get_price_display }}</span>
            </div>
            
            <!-- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞–ª–∏—á–∏—è -->
            <p>
                {% if product.has_stock %}
                    ‚úÖ –í –Ω–∞–ª–∏—á–∏–∏ 
                    {% if product.total_stock > 0 %}
                        ({{ product.total_stock }} —à—Ç.)
                    {% endif %}
                {% else %}
                    ‚ùå –ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏
                {% endif %}
            </p>
            
            {% if product.is_on_sale %}
            <div style="background: #ff6b6b; color: white; padding: 5px; border-radius: 3px; margin: 5px 0; text-align: center; font-size: 12px;">
                üéØ –°–∫–∏–¥–∫–∞!
            </div>
            {% endif %}
            
            <a href="{% url 'shop:product_detail' product.slug %}" style="background: #007bff; color: white; padding: 8px 15px; text-decoration: none; border-radius: 3px;">
                –ü–æ–¥—Ä–æ–±–Ω–µ–µ
            </a>
        </div>
        {% endfor %}
    </div>
    
    <div style="margin-top: 30px; text-align: center;">
        <p>–ü–æ–∫–∞–∑–∞–Ω–æ <strong>{{ products|length }}</strong> –Ω–æ–≤—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π</p>
    </div>
{% else %}
    <div style="text-align: center; padding: 60px 20px;">
        <h3>üì¶ –°–∫–æ—Ä–æ –æ–∂–∏–¥–∞—é—Ç—Å—è –Ω–æ–≤—ã–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è</h3>
        <p>–ú—ã –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ–º –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç. –°–ª–µ–¥–∏—Ç–µ –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏!</p>
        <div style="margin-top: 30px;">
            <a href="{% url 'shop:product_list' %}" style="background: #28a745; color: white; padding: 12px 25px; text-decoration: none; border-radius: 5px; margin-right: 10px;">
                –í—Å–µ —Ç–æ–≤–∞—Ä—ã
            </a>
            <a href="{% url 'shop:featured_products' %}" style="background: #ff9f43; color: white; padding: 12px 25px; text-decoration: none; border-radius: 5px;">
                –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ
            </a>
        </div>
    </div>
{% endif %}

<!--
<div style="margin-top: 40px; background: #e3f2fd; padding: 20px; border-radius: 5px;">
    <h3>üí° –ü–µ—Ä–≤—ã–º –æ –Ω–æ–≤—ã—Ö –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è—Ö!</h3>
    <p>–ü–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ –Ω–∞—à—É —Ä–∞—Å—Å—ã–ª–∫—É –∏ —É–∑–Ω–∞–≤–∞–π—Ç–µ –æ –Ω–æ–≤–∏–Ω–∫–∞—Ö –ø–µ—Ä–≤—ã–º–∏:</p>
    <form style="display: flex; gap: 10px; margin-top: 15px; max-width: 500px;">
        <input type="email" placeholder="–í–∞—à email" style="flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 5px;">
        <button type="submit" style="background: #2196f3; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer;">
            –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è
        </button>
    </form>
</div>
-->

{% endblock %}